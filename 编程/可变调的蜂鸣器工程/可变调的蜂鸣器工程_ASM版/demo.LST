A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     1


MACRO ASSEMBLER A51 V8.02a
OBJECT MODULE PLACED IN demo.OBJ
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE demo.asm NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ;$include (STC15F2K60S2.H) 
                +1     2     
                +1     3     
                +1     4     
                +1     5     
                +1     6     
                +1     7     
                +1     8     
                +1     9     
  00E0          +1    10     sfr ACC         =   0xE0;   //0000,0000 ÀÛ¼ÓÆ÷Accumulator
  00F0          +1    11     sfr B           =   0xF0;   //0000,0000 B¼Ä´æÆ÷
  00D0          +1    12     sfr PSW         =   0xD0;   //0000,0000 ³ÌÐò×´Ì¬×Ö
  00D7          +1    13     sbit CY         =   PSW^7;
  00D6          +1    14     sbit AC         =   PSW^6;
  00D5          +1    15     sbit F0         =   PSW^5;
  00D4          +1    16     sbit RS1        =   PSW^4;
  00D3          +1    17     sbit RS0        =   PSW^3;
  00D2          +1    18     sbit OV         =   PSW^2;
  00D0          +1    19     sbit P          =   PSW^0;
  0081          +1    20     sfr SP          =   0x81;   //0000,0111 ¶ÑÕ»Ö¸Õë
  0082          +1    21     sfr DPL         =   0x82;   //0000,0000 Ê¾ÝÖ¸ÕëµÍ×Ö½Ú
  0083          +1    22     sfr DPH         =   0x83;   //0000,0000 Ê¾ÝÖ¸Õë¸ß×Ö½Ú
                +1    23     
                +1    24     
  0080          +1    25     sfr P0          =   0x80;   //1111,1111 ¶Ë¿Ú0
  0080          +1    26     sbit P00        =   P0^0;
  0081          +1    27     sbit P01        =   P0^1;
  0082          +1    28     sbit P02        =   P0^2;
  0083          +1    29     sbit P03        =   P0^3;
  0084          +1    30     sbit P04        =   P0^4;
  0085          +1    31     sbit P05        =   P0^5;
  0086          +1    32     sbit P06        =   P0^6;
  0087          +1    33     sbit P07        =   P0^7;
  0090          +1    34     sfr P1          =   0x90;   //1111,1111 ¶Ë¿Ú1
  0090          +1    35     sbit P10        =   P1^0;
  0091          +1    36     sbit P11        =   P1^1;
  0092          +1    37     sbit P12        =   P1^2;
  0093          +1    38     sbit P13        =   P1^3;
  0094          +1    39     sbit P14        =   P1^4;
  0095          +1    40     sbit P15        =   P1^5;
  0096          +1    41     sbit P16        =   P1^6;
  0097          +1    42     sbit P17        =   P1^7;
  00A0          +1    43     sfr P2          =   0xA0;   //1111,1111 ¶Ë¿Ú2
  00A0          +1    44     sbit P20        =   P2^0;
  00A1          +1    45     sbit P21        =   P2^1;
  00A2          +1    46     sbit P22        =   P2^2;
  00A3          +1    47     sbit P23        =   P2^3;
  00A4          +1    48     sbit P24        =   P2^4;
  00A5          +1    49     sbit P25        =   P2^5;
  00A6          +1    50     sbit P26        =   P2^6;
  00A7          +1    51     sbit P27        =   P2^7;
  00B0          +1    52     sfr P3          =   0xB0;   //1111,1111 ¶Ë¿Ú3
  00B0          +1    53     sbit P30        =   P3^0;
  00B1          +1    54     sbit P31        =   P3^1;
  00B2          +1    55     sbit P32        =   P3^2;
  00B3          +1    56     sbit P33        =   P3^3;
  00B4          +1    57     sbit P34        =   P3^4;
  00B5          +1    58     sbit P35        =   P3^5;
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     2

  00B6          +1    59     sbit P36        =   P3^6;
  00B7          +1    60     sbit P37        =   P3^7;
  00C0          +1    61     sfr P4          =   0xC0;   //1111,1111 ¶Ë¿Ú4
  00C0          +1    62     sbit P40        =   P4^0;
  00C1          +1    63     sbit P41        =   P4^1;
  00C2          +1    64     sbit P42        =   P4^2;
  00C3          +1    65     sbit P43        =   P4^3;
  00C4          +1    66     sbit P44        =   P4^4;
  00C5          +1    67     sbit P45        =   P4^5;
  00C6          +1    68     sbit P46        =   P4^6;
  00C7          +1    69     sbit P47        =   P4^7;
  00C8          +1    70     sfr P5          =   0xC8;   //xxxx,1111 ¶Ë¿Ú5
  00C8          +1    71     sbit P50        =   P5^0;
  00C9          +1    72     sbit P51        =   P5^1;
  00CA          +1    73     sbit P52        =   P5^2;
  00CB          +1    74     sbit P53        =   P5^3;
  00CC          +1    75     sbit P54        =   P5^4;
  00CD          +1    76     sbit P55        =   P5^5;
  00CE          +1    77     sbit P56        =   P5^6;
  00CF          +1    78     sbit P57        =   P5^7;
  00E8          +1    79     sfr P6          =   0xE8;   //0000,0000 ¶Ë¿Ú6
  00E8          +1    80     sbit P60        =   P6^0;
  00E9          +1    81     sbit P61        =   P6^1;
  00EA          +1    82     sbit P62        =   P6^2;
  00EB          +1    83     sbit P63        =   P6^3;
  00EC          +1    84     sbit P64        =   P6^4;
  00ED          +1    85     sbit P65        =   P6^5;
  00EE          +1    86     sbit P66        =   P6^6;
  00EF          +1    87     sbit P67        =   P6^7;
  00F8          +1    88     sfr P7          =   0xF8;   //0000,0000 ¶Ë¿Ú7
  00F8          +1    89     sbit P70        =   P7^0;
  00F9          +1    90     sbit P71        =   P7^1;
  00FA          +1    91     sbit P72        =   P7^2;
  00FB          +1    92     sbit P73        =   P7^3;
  00FC          +1    93     sbit P74        =   P7^4;
  00FD          +1    94     sbit P75        =   P7^5;
  00FE          +1    95     sbit P76        =   P7^6;
  00FF          +1    96     sbit P77        =   P7^7;
  0094          +1    97     sfr P0M0        =   0x94;   //0000,0000 ¶Ë¿Ú0Ä£Ê½¼Ä´æÆ÷0
  0093          +1    98     sfr P0M1        =   0x93;   //0000,0000 ¶Ë¿Ú0Ä£Ê½¼Ä´æÆ÷1
  0092          +1    99     sfr P1M0        =   0x92;   //0000,0000 ¶Ë¿Ú1Ä£Ê½¼Ä´æÆ÷0
  0091          +1   100     sfr P1M1        =   0x91;   //0000,0000 ¶Ë¿Ú1Ä£Ê½¼Ä´æÆ÷1
  0096          +1   101     sfr P2M0        =   0x96;   //0000,0000 ¶Ë¿Ú2Ä£Ê½¼Ä´æÆ÷0
  0095          +1   102     sfr P2M1        =   0x95;   //0000,0000 ¶Ë¿Ú2Ä£Ê½¼Ä´æÆ÷1
  00B2          +1   103     sfr P3M0        =   0xB2;   //0000,0000 ¶Ë¿Ú3Ä£Ê½¼Ä´æÆ÷0
  00B1          +1   104     sfr P3M1        =   0xB1;   //0000,0000 ¶Ë¿Ú3Ä£Ê½¼Ä´æÆ÷1
  00B4          +1   105     sfr P4M0        =   0xB4;   //0000,0000 ¶Ë¿Ú4Ä£Ê½¼Ä´æÆ÷0
  00B3          +1   106     sfr P4M1        =   0xB3;   //0000,0000 ¶Ë¿Ú4Ä£Ê½¼Ä´æÆ÷1
  00CA          +1   107     sfr P5M0        =   0xCA;   //0000,0000 ¶Ë¿Ú5Ä£Ê½¼Ä´æÆ÷0
  00C9          +1   108     sfr P5M1        =   0xC9;   //0000,0000 ¶Ë¿Ú5Ä£Ê½¼Ä´æÆ÷1
  00CC          +1   109     sfr P6M0        =   0xCC;   //0000,0000 ¶Ë¿Ú6Ä£Ê½¼Ä´æÆ÷0
  00CB          +1   110     sfr P6M1        =   0xCB;   //0000,0000 ¶Ë¿Ú6Ä£Ê½¼Ä´æÆ÷1
  00E2          +1   111     sfr P7M0        =   0xE2;   //0000,0000 ¶Ë¿Ú7Ä£Ê½¼Ä´æÆ÷0
  00E1          +1   112     sfr P7M1        =   0xE1;   //0000,0000 ¶Ë¿Ú7Ä£Ê½¼Ä´æÆ÷1
                +1   113     
                +1   114     
  0087          +1   115     sfr PCON        =   0x87;   //0001,0000 µçÔ´¿ØÖÆ¼Ä´æÆ÷
  008E          +1   116     sfr AUXR        =   0x8E;   //0000,0000 ¸¨Öú¼Ä´æÆ÷
  00A2          +1   117     sfr AUXR1       =   0xA2;   //0000,0000 ¸¨Öú¼Ä´æÆ÷1
  00A2          +1   118     sfr P_SW1       =   0xA2;   //0000,0000 ÍâÉè¶Ë¿ÚÇÐ»»¼Ä´æÆ÷1
  0097          +1   119     sfr CLK_DIV     =   0x97;   //0000,0000 Ê±ÖÓ·ÖÆµ¿ØÖÆ¼Ä´æÆ÷
  00A1          +1   120     sfr BUS_SPEED   =   0xA1;   //xx10,x011 ×ÜÏßËÙ¶È¿ØÖÆ¼Ä´æÆ÷
  009D          +1   121     sfr P1ASF       =   0x9D;   //0000,0000 ¶Ë¿Ú1Ä£Äâ¹¦ÄÜÅäÖÃ¼Ä´æÆ÷
  00BA          +1   122     sfr P_SW2       =   0xBA;   //xxxx,x000 ÍâÉè¶Ë¿ÚÇÐ»»¼Ä´æÆ÷
                +1   123     
                +1   124     
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     3

  00A8          +1   125     sfr IE          =   0xA8;   //0000,0000 ÖÐ¶Ï¿ØÖÆ¼Ä´æÆ÷
  00AF          +1   126     sbit EA         =   IE^7;
  00AE          +1   127     sbit ELVD       =   IE^6;
  00AD          +1   128     sbit EADC       =   IE^5;
  00AC          +1   129     sbit ES         =   IE^4;
  00AB          +1   130     sbit ET1        =   IE^3;
  00AA          +1   131     sbit EX1        =   IE^2;
  00A9          +1   132     sbit ET0        =   IE^1;
  00A8          +1   133     sbit EX0        =   IE^0;
  00B8          +1   134     sfr IP          =   0xB8;   //0000,0000 ÖÐ¶ÏÓÅÏÈ¼¶¼Ä´æÆ÷
  00BF          +1   135     sbit PPCA       =   IP^7;
  00BE          +1   136     sbit PLVD       =   IP^6;
  00BD          +1   137     sbit PADC       =   IP^5;
  00BC          +1   138     sbit PS         =   IP^4;
  00BB          +1   139     sbit PT1        =   IP^3;
  00BA          +1   140     sbit PX1        =   IP^2;
  00B9          +1   141     sbit PT0        =   IP^1;
  00B8          +1   142     sbit PX0        =   IP^0;
  00AF          +1   143     sfr IE2         =   0xAF;   //0000,0000 ÖÐ¶Ï¿ØÖÆ¼Ä´æÆ÷2
  00B5          +1   144     sfr IP2         =   0xB5;   //xxxx,xx00 ÖÐ¶ÏÓÅÏÈ¼¶¼Ä´æÆ÷2
  008F          +1   145     sfr INT_CLKO    =   0x8F;   //0000,0000 Íâ²¿ÖÐ¶ÏÓëÊ±ÖÓÊä³ö¿ØÖÆ¼Ä´æÆ÷
                +1   146     
                +1   147     
  0088          +1   148     sfr TCON        =   0x88;   //0000,0000 T0/T1¿ØÖÆ¼Ä´æÆ÷
  008F          +1   149     sbit TF1        =   TCON^7;
  008E          +1   150     sbit TR1        =   TCON^6;
  008D          +1   151     sbit TF0        =   TCON^5;
  008C          +1   152     sbit TR0        =   TCON^4;
  008B          +1   153     sbit IE1        =   TCON^3;
  008A          +1   154     sbit IT1        =   TCON^2;
  0089          +1   155     sbit IE0        =   TCON^1;
  0088          +1   156     sbit IT0        =   TCON^0;
  0089          +1   157     sfr TMOD        =   0x89;   //0000,0000 T0/T1Ä£Ê½¼Ä´æÆ÷
  008A          +1   158     sfr TL0         =   0x8A;   //0000,0000 T0µÍ×Ö½Ú
  008B          +1   159     sfr TL1         =   0x8B;   //0000,0000 T1µÍ×Ö½Ú
  008C          +1   160     sfr TH0         =   0x8C;   //0000,0000 T0¸ß×Ö½Ú
  008D          +1   161     sfr TH1         =   0x8D;   //0000,0000 T1¸ß×Ö½Ú
  00D1          +1   162     sfr T4T3M       =   0xD1;   //0000,0000 T3/T4Ä£Ê½¼Ä´æÆ÷
  00D1          +1   163     sfr T3T4M       =   0xD1;   //0000,0000 T3/T4Ä£Ê½¼Ä´æÆ÷
  00D2          +1   164     sfr T4H         =   0xD2;   //0000,0000 T4¸ß×Ö½Ú
  00D3          +1   165     sfr T4L         =   0xD3;   //0000,0000 T4µÍ×Ö½Ú
  00D4          +1   166     sfr T3H         =   0xD4;   //0000,0000 T3¸ß×Ö½Ú
  00D5          +1   167     sfr T3L         =   0xD5;   //0000,0000 T3µÍ×Ö½Ú
  00D6          +1   168     sfr T2H         =   0xD6;   //0000,0000 T2¸ß×Ö½Ú
  00D7          +1   169     sfr T2L         =   0xD7;   //0000,0000 T2µÍ×Ö½Ú
  00AA          +1   170     sfr WKTCL       =   0xAA;   //0000,0000 µôµç»½ÐÑ¶¨Ê±Æ÷µÍ×Ö½Ú
  00AB          +1   171     sfr WKTCH       =   0xAB;   //0000,0000 µôµç»½ÐÑ¶¨Ê±Æ÷¸ß×Ö½Ú
  00C1          +1   172     sfr WDT_CONTR   =   0xC1;   //0000,0000 ¿´ÃÅ¹·¿ØÖÆ¼Ä´æÆ÷
                +1   173     
                +1   174     
  0098          +1   175     sfr SCON        =   0x98;   //0000,0000 ´®¿Ú1¿ØÖÆ¼Ä´æÆ÷
  009F          +1   176     sbit SM0        =   SCON^7;
  009E          +1   177     sbit SM1        =   SCON^6;
  009D          +1   178     sbit SM2        =   SCON^5;
  009C          +1   179     sbit REN        =   SCON^4;
  009B          +1   180     sbit TB8        =   SCON^3;
  009A          +1   181     sbit RB8        =   SCON^2;
  0099          +1   182     sbit TI         =   SCON^1;
  0098          +1   183     sbit RI         =   SCON^0;
  0099          +1   184     sfr SBUF        =   0x99;   //xxxx,xxxx ´®¿Ú1Ê¾Ý¼Ä´æÆ÷
  009A          +1   185     sfr S2CON       =   0x9A;   //0000,0000 ´®¿Ú2¿ØÖÆ¼Ä´æÆ÷
  009B          +1   186     sfr S2BUF       =   0x9B;   //xxxx,xxxx ´®¿Ú2Ê¾Ý¼Ä´æÆ÷
  00AC          +1   187     sfr S3CON       =   0xAC;   //0000,0000 ´®¿Ú3¿ØÖÆ¼Ä´æÆ÷
  00AD          +1   188     sfr S3BUF       =   0xAD;   //xxxx,xxxx ´®¿Ú3Ê¾Ý¼Ä´æÆ÷
  0084          +1   189     sfr S4CON       =   0x84;   //0000,0000 ´®¿Ú4¿ØÖÆ¼Ä´æÆ÷
  0085          +1   190     sfr S4BUF       =   0x85;   //xxxx,xxxx ´®¿Ú4Ê¾Ý¼Ä´æÆ÷
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     4

  00A9          +1   191     sfr SADDR       =   0xA9;   //0000,0000 ´Ó»úµØÖ·¼Ä´æÆ÷
  00B9          +1   192     sfr SADEN       =   0xB9;   //0000,0000 ´Ó»úµØÖ·ÆÁ±Î¼Ä´æÆ÷
                +1   193     
                +1   194     
  00BC          +1   195     sfr ADC_CONTR   =   0xBC;   //0000,0000 A/D×ª»»¿ØÖÆ¼Ä´æÆ÷
  00BD          +1   196     sfr ADC_RES     =   0xBD;   //0000,0000 A/D×ª»»½á¹û¸ß8Î»
  00BE          +1   197     sfr ADC_RESL    =   0xBE;   //0000,0000 A/D×ª»»½á¹ûµÍ2Î»
                +1   198     
                +1   199     
  00CD          +1   200     sfr SPSTAT      =   0xCD;   //00xx,xxxx SPI×´Ì¬¼Ä´æÆ÷
  00CE          +1   201     sfr SPCTL       =   0xCE;   //0000,0100 SPI¿ØÖÆ¼Ä´æÆ÷
  00CF          +1   202     sfr SPDAT       =   0xCF;   //0000,0000 SPIÊ¾Ý¼Ä´æÆ÷
                +1   203     
                +1   204     
  00C2          +1   205     sfr IAP_DATA    =   0xC2;   //0000,0000 EEPROMÊ¾Ý¼Ä´æÆ÷
  00C3          +1   206     sfr IAP_ADDRH   =   0xC3;   //0000,0000 EEPROMµØÖ·¸ß×Ö½Ú
  00C4          +1   207     sfr IAP_ADDRL   =   0xC4;   //0000,0000 EEPROMµØÖ·µÚ×Ö½Ú
  00C5          +1   208     sfr IAP_CMD     =   0xC5;   //xxxx,xx00 EEPROMÃüÁî¼Ä´æÆ÷
  00C6          +1   209     sfr IAP_TRIG    =   0xC6;   //0000,0000 EEPRPMÃüÁî´¥·¢¼Ä´æÆ÷
  00C7          +1   210     sfr IAP_CONTR   =   0xC7;   //0000,x000 EEPROM¿ØÖÆ¼Ä´æÆ÷
                +1   211     
                +1   212     
  00D8          +1   213     sfr CCON        =   0xD8;   //00xx,xx00 PCA¿ØÖÆ¼Ä´æÆ÷
  00DF          +1   214     sbit CF         =   CCON^7;
  00DE          +1   215     sbit CR         =   CCON^6;
  00DA          +1   216     sbit CCF2       =   CCON^2;
  00D9          +1   217     sbit CCF1       =   CCON^1;
  00D8          +1   218     sbit CCF0       =   CCON^0;
  00D9          +1   219     sfr CMOD        =   0xD9;   //0xxx,x000 PCA ¹¤×÷Ä£Ê½¼Ä´æÆ÷
  00E9          +1   220     sfr CL          =   0xE9;   //0000,0000 PCA¼ÆÊÆ÷µÍ×Ö½Ú
  00F9          +1   221     sfr CH          =   0xF9;   //0000,0000 PCA¼ÆÊÆ÷¸ß×Ö½Ú
  00DA          +1   222     sfr CCAPM0      =   0xDA;   //0000,0000 PCAÄ£¿é0µÄPWM¼Ä´æÆ÷
  00DB          +1   223     sfr CCAPM1      =   0xDB;   //0000,0000 PCAÄ£¿é1µÄPWM¼Ä´æÆ÷
  00DC          +1   224     sfr CCAPM2      =   0xDC;   //0000,0000 PCAÄ£¿é2µÄPWM ¼Ä´æÆ÷
  00EA          +1   225     sfr CCAP0L      =   0xEA;   //0000,0000 PCAÄ£¿é0µÄ²¶×½/±È½Ï¼Ä´æÆ÷µÍ×Ö½Ú
  00EB          +1   226     sfr CCAP1L      =   0xEB;   //0000,0000 PCAÄ£¿é1µÄ²¶×½/±È½Ï¼Ä´æÆ÷µÍ×Ö½Ú
  00EC          +1   227     sfr CCAP2L      =   0xEC;   //0000,0000 PCAÄ£¿é2µÄ²¶×½/±È½Ï¼Ä´æÆ÷µÍ×Ö½Ú
  00F2          +1   228     sfr PCA_PWM0    =   0xF2;   //xxxx,xx00 PCAÄ£¿é0µÄPWM¼Ä´æÆ÷
  00F3          +1   229     sfr PCA_PWM1    =   0xF3;   //xxxx,xx00 PCAÄ£¿é1µÄPWM¼Ä´æÆ÷
  00F4          +1   230     sfr PCA_PWM2    =   0xF4;   //xxxx,xx00 PCAÄ£¿é1µÄPWM¼Ä´æÆ÷
  00FA          +1   231     sfr CCAP0H      =   0xFA;   //0000,0000 PCAÄ£¿é0µÄ²¶×½/±È½Ï¼Ä´æÆ÷¸ß×Ö½Ú
  00FB          +1   232     sfr CCAP1H      =   0xFB;   //0000,0000 PCAÄ£¿é1µÄ²¶×½/±È½Ï¼Ä´æÆ÷¸ß×Ö½Ú
  00FC          +1   233     sfr CCAP2H      =   0xFC;   //0000,0000 PCAÄ£¿é2µÄ²¶×½/±È½Ï¼Ä´æÆ÷¸ß×Ö½Ú
                +1   234     
                +1   235     
                +1   236     
                +1   237     
                +1   238     
                     239     
  2B33               240     FOSC      EQU   11059  
  0032               241     TCLICK    EQU   50      ;»ù´¡¶¨Ê±Æ÷   uS
  0014               242     NMAX_KEY  EQU   20      ;´Î
                     243                                                                
  00D2               244     DATA_TH0  EQU   256-(FOSC/120*TCLICK+50)/100  ;¶¨Ê±Æ÷0 ¹¤×÷·½Ê½2£º8bitÖØ×°¡¢ÓÃ×÷256uSÒÔÄÚ¶¨
                             Ê±  ¶¨Ê±³õÖµ£½£¨256£­Fosc¡Á¶¨Ê±Ê±¼ä/12£©
                     245      
  0000               246     CLICK_50uS       BIT            00H      ;=100uSµÎ´ðÐÅºÅ
  0001               247     CLICK_1mS        BIT            01H      ;=1mS  µÎ´ðÐÅºÅ
  0002               248     CLICK_50mS       BIT            02H      ;=20mS µÎ´ðÐÅºÅ
  0003               249     CLICK_200mS      BIT            03H
  0004               250     CLICK_1S         BIT            04H      ;=1S   µÎ´ðÐÅºÅ
  0005               251     CLICK_1Min       BIT            05H      ;=1Min µÎ´ðÐÅºÅ
  0006               252     CLICK_1HOUR      BIT            06H 
                     253     
  00B4               254     beep             bit            p3.4
                     255     
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     5

  00B2               256     KEY1             BIT            P3.2      ;°´¼ü¼°Ê±Öµ
  00B3               257     KEY2             BIT            P3.3
  000A               258     KEY3             BIT            0AH
  000B               259     KEYR             BIT            0BH
  000C               260     KEYD             BIT            0CH
  000D               261     KEYC             BIT            0DH
  000E               262     KEYL             BIT            0EH
  000F               263     KEYU             BIT            0FH   
                     264     
  0010               265     KEY1_C           BIT            10H             ;°´¼üµ±Ç°×´Ì¬
  0011               266     KEY2_C           BIT            11H
  0012               267     KEY3_C           BIT            12H
  0013               268     KEYR_C           BIT            13H
  0014               269     KEYD_C           BIT            14H
  0015               270     KEYC_C           BIT            15H
  0016               271     KEYL_C           BIT            16H
  0017               272     KEYU_C           BIT            17H 
                     273     
  0018               274     KEY1_P           BIT            18H             ;°´¼üÉÏÒ»¸ö×´Ì¬
  0019               275     KEY2_P           BIT            19H
  001A               276     KEY3_P           BIT            1AH
  001B               277     KEYR_P           BIT            1BH
  001C               278     KEYD_P           BIT            1CH
  001D               279     KEYC_P           BIT            1DH
  001E               280     KEYL_P           BIT            1EH
  001F               281     KEYU_P           BIT            1FH         
                     282      
  0020               283     VKEY1            BIT            20H      ;°´¼üÊÂ¼þÖµ
  0021               284     VKEY2            BIT            21H
  0022               285     VKEY3            BIT            22H
  0023               286     VKEYR            BIT            23H
  0024               287     VKEYD            BIT            24H
  0025               288     VKEYC            BIT            25H
  0026               289     VKEYL            BIT            26H
  0027               290     VKEYU            BIT            27H 
                     291     
  0028               292     KEY_ON           BIT            28H
                     293     
  0030               294     TIME_50uS        EQU            30H      ;100uS¼ÆÊ
  0031               295     TIME_1mS         EQU            31H      ;1mS  ¼ÆÊ
  0032               296     TIME_50mS        EQU            32H      ;20mS ¼ÆÊ
  0034               297     TIME_1S          EQU            34H      ;1S   ¼ÆÊ
  0035               298     TIME_1MIN        EQU            35H      ;1MIN  ¼ÆÊ
  0036               299     TIME_1HOUR       EQU            36H      ;1HOUR ¼ÆÊ
                     300     
  0040               301     SEC_1            EQU            40H
  0041               302     SEC_10           EQU            41H
  0042               303     MIN_1            EQU            42H
  0043               304     MIN_10           EQU            43H
  0044               305     HOUR_1           EQU            44H
  0045               306     HOUR_10          EQU            45H
  0046               307     MID_LINE         EQU            46H
  005A               308     NO_DIS           EQU       5AH
                     309     
  0047               310     KEY_COUNTER      EQU            47H         ;°´¼üÏû¶¶¼ÆÊ
                     311     
  0048               312     KEY1_COUNTER     EQU            48H             ;°´¼üÖµÍ³¼Æ
  0049               313     KEY2_COUNTER     EQU            49H
  004A               314     KEY3_COUNTER     EQU            4AH
  004B               315     KEYR_COUNTER     EQU            4BH
  004C               316     KEYD_COUNTER     EQU            4CH
  004D               317     KEYC_COUNTER     EQU            4DH
  004E               318     KEYL_COUNTER     EQU            4EH
  004F               319     KEYU_COUNTER     EQU            4FH
                     320     
  0057               321     GROUP_Dis        EQU            57H     ;µ±Ç°ÏÔÊ¾Ê¾Ý×é  £º  0¡«N
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     6

  0058               322     N_MaxDis         EQU            58H             ;¶¨Òå×î´óÏÔÊ¾Î»Ê£¬¿ÉÐ¡ÓÚ8¡¢¿É´óÓÚ8¿É¿ØÖÆÏÔÊ
                             ¾ÁÁ¶È
  0059               323     CurDis           EQU            59H     ;±äÁ¿£º¼ÇÂ¼ÏÔÊ¾Î»£º1¡«8 ÓÐÐ§  ´óÓÚ8ÎÞÏÔÊ¾
  005B               324     COUNT1           EQU            5BH
  005C               325     COUNT2           EQU            5CH
  005D               326     COUNT3           EQU            5DH
  005E               327     COUNT4           EQU            5EH
                     328     
                     329     ;ÏÔÊ¾ÄÚÈÝ¶¨Òå
                     330     ;GROUP_Dis=0
  005A               331     G0_A1            EQU                    NO_DIS
  005A               332     G0_A2            EQU                    NO_DIS
  005A               333     G0_A3            EQU                    NO_DIS
  005A               334     G0_A4            EQU                    NO_DIS
  005A               335     G0_A5            EQU                    NO_DIS
  005A               336     G0_A6            EQU                    NO_DIS
  005A               337     G0_A7            EQU                    NO_DIS
  005B               338     G0_A8            EQU                    COUNT1
                     339     
                     340     ;GROUP_Dis=1
  005A               341     G1_A1            EQU                    NO_DIS  ; Çë¾ßÌå¶¨ÒåËüÃÇ
  005A               342     G1_A2            EQU                    NO_DIS
  005A               343     G1_A3            EQU                    NO_DIS
  005A               344     G1_A4            EQU                    NO_DIS
  005E               345     G1_A5            EQU                    COUNT4
  005D               346     G1_A6            EQU                    COUNT3
  005C               347     G1_A7            EQU                    COUNT2
  005B               348     G1_A8            EQU                    COUNT1
                     349     
                     350     ;GROUP_Dis=2
  0046               351     G2_A1            EQU                    MID_LINE
  0046               352     G2_A2            EQU                    MID_LINE
  0046               353     G2_A3            EQU                    MID_LINE
  0057               354     G2_A4            EQU                    GROUP_Dis
  0046               355     G2_A5            EQU                    MID_LINE
  0046               356     G2_A6            EQU                    MID_LINE
  0046               357     G2_A7            EQU                    MID_LINE
  0040               358     G2_A8            EQU                    SEC_1
                     359     
0000                 360     ORG   0000H
0000 020100          361             LJMP   START
0003                 362     ORG   0003H
0003 32              363                     RETI
0013                 364     ORG   0013H
0013 32              365                     RETI
                     366     ;-----------------------------------------TIMER0ÖÐ¶Ï----------------------
000B                 367     ORG   000BH
000B 619C            368             JMP   INT_T0
                     369     
                     370     ;---------------------------------------Ö÷³ÌÐò----------------------------
0100                 371     ORG   0100H              
0100                 372     START: 
                     373     ;-----------------------ÏµÍ³³õÊ¼»¯-----------------
0100 759300          374             MOV    P0M1, #00000000B            ;00¡ª¡ª×¼Ë«Ïò¿Ú   01¡ª¡ªÍÆÍì   10¡ª¡ª¸ß×èÊäÈë   
                                   11¡ª¡ªOC
0103 7594FF          375             MOV    P0M0, #11111111B 
0106 759500          376             MOV    P2M1, #00000000B
0109 759601          377                 MOV    P2M0, #00000001B
010C 75B100          378             MOV    P3M1, #00000000B
010F 75B210          379                 MOV    P3M0, #00010000B
                     380     
                     381     ;----------------------±äÁ¿³õÊ¼»¯--------------------
0112 753014          382                     MOV   TIME_50uS,    #20
0115 753132          383             MOV   TIME_1mS,     #50
0118 753214          384             MOV   TIME_50mS,    #20   
011B 75343C          385             MOV   TIME_1S,      #60
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     7

011E 75353C          386                     MOV   TIME_1MIN,    #60
0121 753618          387                     MOV   TIME_1HOUR,   #24
                     388     
0124 C200            389                     CLR   CLICK_50uS
0126 C201            390             CLR   CLICK_1mS        
0128 C202            391             CLR   CLICK_50mS  
012A C204            392                     CLR   CLICK_1S
012C C205            393                     CLR   CLICK_1Min
012E C206            394                     CLR   CLICK_1HOUR
                     395     
0130 C220            396                     CLR   VKEY1
0132 C221            397                     CLR   VKEY2
0134 C222            398                     CLR   VKEY3
0136 C223            399                     CLR   VKEYR
0138 C224            400                     CLR   VKEYD
013A C225            401                     CLR   VKEYC
013C C226            402                     CLR   VKEYL
013E C227            403                     CLR   VKEYU
                     404     
0140 D218            405             SETB  KEY1_P
0142 D219            406             SETB  KEY2_P
0144 D21A            407             SETB  KEY3_P
0146 D21B            408             SETB  KEYR_P
0148 D21C            409             SETB  KEYD_P
014A D21D            410             SETB  KEYC_P
014C D21E            411             SETB  KEYL_P
014E D21F            412             SETB  KEYU_P
                     413     
0150 754714          414                     MOV   KEY_COUNTER,  #NMAX_KEY
                     415     
0153 75488C          416                     MOV   KEY1_COUNTER, #(80H+NMAX_KEY/3*2)
0156 75498C          417                 MOV   KEY2_COUNTER, #(80H+NMAX_KEY/3*2)
0159 754A8C          418                     MOV   KEY3_COUNTER, #(80H+NMAX_KEY/3*2)
015C 754B8C          419                     MOV   KEYR_COUNTER, #(80H+NMAX_KEY/3*2)
015F 754C8C          420                     MOV   KEYD_COUNTER, #(80H+NMAX_KEY/3*2)
0162 754D8C          421                 MOV   KEYC_COUNTER, #(80H+NMAX_KEY/3*2)
0165 754E8C          422                     MOV   KEYL_COUNTER, #(80H+NMAX_KEY/3*2)
0168 754F8C          423                     MOV   KEYU_COUNTER, #(80H+NMAX_KEY/3*2)
                     424     
016B 755901          425             MOV   CurDis,       #1        ;³õÊ¼ÏÔÊ¾Î»       
016E 755808          426                     MOV   N_MaxDis,     #8
0171 755700          427                     MOV   GROUP_Dis,    #0
                     428                                  
0174 754000          429                     MOV   SEC_1,        #0            ;Ê¾À£ºÆäËüÏÔÊ¾ÄÚÈÝ¸³¸ø¶ÔÓ¦±äÁ¿
0177 754100          430                     MOV   SEC_10,       #0
017A 754200          431                     MOV   MIN_1,        #0
017D 754300          432                     MOV   MIN_10,       #0
0180 754400          433                     MOV   HOUR_1,       #0
0183 754500          434                     MOV   HOUR_10,      #0
0186 75460A          435                     MOV   MID_LINE,     #10
0189 755A0B          436                     MOV   NO_DIS,       #11
                     437     
018C C228            438                 CLR   KEY_ON
018E 755B00          439                     MOV   COUNT1,       #0
                     440     ;------------------ÏµÍ³Éè±¸³õÊ¼»¯----------------------------------
0191 758922          441             MOV   TMOD, #22H    ; C/T0 mode is 2 and C/T1 'S MOD is 2
0194 758780          442                     MOV   PCON, #80H     ;  
0197 758CD2          443                     MOV   TH0,  #DATA_TH0 
019A D288            444                     SETB  IT0                                            ;ÉèÖÃ  INT0  ÎªÏÂ½µÑØ´
                             ¥·¢
019C D28A            445                     SETB  IT1     
019E D28C            446             SETB  TR0                                                ;Æô¶¯Ê±ÖÓ
01A0 75A882          447             MOV   IE,   #10000010B                   ;¿ªÖÐ¶Ï£º                                
                     448     ;-----------------------------------Ö÷Ñ­»·------------------------------------------
01A3 100029          449     MAINLOOP:JBC   CLICK_50uS,  C_50uS 
01A6 100128          450              JBC   CLICK_1mS,   C_1mS  
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     8

01A9 100227          451              JBC   CLICK_50mS,  C_50mS
01AC 100426          452                  JBC   CLICK_1S,    C_1S
01AF 100525          453                  JBC   CLICK_1Min,  C_1Min 
01B2 100624          454                      JBC   CLICK_1HOUR, C_1HOUR 
01B5 102023          455                      JBC   VKEY1,       C_KEY1  
01B8 102122          456                      JBC   VKEY2,       C_KEY2 
01BB 102221          457                      JBC   VKEY3,       C_KEY3
01BE 102320          458                      JBC   VKEYR,       C_KEYR
01C1 10241F          459                      JBC   VKEYD,       C_KEYD
01C4 10251E          460                      JBC   VKEYC,       C_KEYC
01C7 10261D          461                      JBC   VKEYL,       C_KEYL
01CA 10271C          462                      JBC   VKEYU,       C_KEYU
01CD 80D4            463              JMP   MAINLOOP                            
                     464     ;-----------------------------------------------------
01CF 8038            465     C_50uS:  JMP   TASK_50uS 
01D1 8048            466     C_1mS:   JMP   TASK_1mS  
01D3 6158            467     C_50mS:  JMP   TASK_50mS
01D5 615A            468     C_1S:    JMP   TASK_1S
01D7 6170            469     C_1Min:  JMP   TASK_1Min
01D9 6186            470     C_1HOUR: JMP   TASK_1HOUR
01DB 8010            471     C_KEY1:  JMP   TASK_KEY1
01DD 801A            472     C_KEY2:  JMP   TASK_KEY2
01DF 801C            473     C_KEY3:  JMP   TASK_KEY3
01E1 801C            474     C_KEYR:  JMP   TASK_KEYR
01E3 801C            475     C_KEYD:  JMP   TASK_KEYD
01E5 801C            476     C_KEYC:  JMP   TASK_KEYC
01E7 801C            477     C_KEYL:  JMP   TASK_KEYL
01E9 801C            478     C_KEYU:  JMP   TASK_KEYU
                     479     ;-----------------------------------ÊÕµ½Ö¸Áî-------------------------
01EB                 480     NEW_COMMAND:
                     481                                                               ;ÇëÔÚÕâÀï¼ÆËãÒªÏÔÊ¾µÄÈ«²¿±äÁ¿
01EB 80B6            482              JMP    MAINLOOP
                     483     ;------------------------------------°´¼ü------------------------------
01ED                 484     TASK_KEY1:
01ED 055B            485              INC    COUNT1
01EF E55B            486                      MOV    A,   COUNT1
01F1 B40A03          487                      CJNE   A,   #10,  T_KEY1_5
01F4 755B00          488                      MOV    COUNT1,   #0
01F7 80AA            489     T_KEY1_5:JMP    MAINLOOP
                     490     
01F9                 491     TASK_KEY2:
01F9 B228            492                      CPL    KEY_ON
01FB 80A6            493              JMP    MAINLOOP
                     494     
01FD                 495     TASK_KEY3:
                     496              
01FD 80A4            497              JMP    MAINLOOP
01FF                 498     TASK_KEYR:
01FF 80A2            499              JMP    MAINLOOP
0201                 500     TASK_KEYD:
0201 80A0            501              JMP    MAINLOOP
0203                 502     TASK_KEYC:
0203 809E            503              JMP    MAINLOOP
0205                 504     TASK_KEYL:
0205 809C            505              JMP    MAINLOOP
0207                 506     TASK_KEYU:
0207 809A            507              JMP    MAINLOOP
                     508     ;-------------------------------------¶¨Ê±ÈÎÎñ-------------------------
0209                 509     TASK_50uS:
0209 202804          510              JB    KEY_ON,   T50uS_2
020C C2B4            511                      CLR   BEEP
020E 8009            512                      JMP   T50uS_1
0210                 513     T50uS_2:
0210 DB07            514              DJNZ  R3,     T50uS_1
0212 B2B4            515                      CPL   BEEP
0214 E55B            516              MOV   A,     COUNT1
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE     9

0216 2405            517                      ADD   A,     #5
0218 FB              518                      MOV   R3,    A
0219 8088            519     T50uS_1: JMP   MAINLOOP
                     520     ;------------------------------  
021B 758000          521     TASK_1mS:MOV    P0,     #00000000B        ;¹ØÏÔÊ¾ 
021E C2A3            522              CLR    P2.3
0220 E559            523              MOV    A,      CurDis  
                     524                             
0222 B4FF0F          525                      CJNE   A,      #0FFH,   T1mS_1
0225 7401            526                      MOV    A,      #00000001B
0227 A857            527                      MOV    R0,     GROUP_Dis
0229 08              528                      INC    R0
022A 03              529     T1mS_0:  RR     A
022B D8FD            530                      DJNZ   R0,     T1mS_0    
                     531     
022D 855880          532                      MOV    P0,     N_MaxDis                   ;CurDis=0FFHÊ±£¬ÏÔÊ¾LEDµÆ
                     533     
0230 D2A3            534              SETB   P2.3     
0232 801A            535                      JMP    T1mS_2
                     536     
0234 54F8            537     T1mS_1:  ANL    A,      #11111000B               
0236 7016            538                      JNZ    T1mS_2                                    ;²»ÏÔÊ¾´óÓÚ8µÄÎ»Ê
                     539     
0238 E557            540              MOV    A,      GROUP_Dis                  ;ËÍ¶ÎÑ¡
023A 23              541                      RL     A                                                         ;Ñ¡ÏÔÊ¾×é
023B 23              542                      RL     A
023C 23              543                      RL     A
023D 2559            544                      ADD    A,      CurDis               
023F 900334          545                      MOV    DPTR,   #TAB_GROUP_Dis
0242 93              546                      MOVC   A,      @A+DPTR
0243 F8              547                      MOV    R0,     A
0244 E6              548                      MOV    A,      @R0
0245 90034C          549                      MOV    DPTR,   #TAB_Decode
0248 93              550                      MOVC   A,      @A+DPTR
0249 F580            551                      MOV    P0,     A                                          ;¶ÎÑ¡ ËÍP0¿Ú
                     552     
024B 8559A0          553              MOV    P2,      CurDis                                ;Î»Ñ¡ËÍ P2¿Ú
                     554                                       
024E 0559            555     T1mS_2:  INC    CurDis                    ;È·¶¨ÏÂÒ»´ÎÒªÏÔÊ¾µÄÎ»             
0250 E559            556                      MOV    A,      CurDis
0252 B55803          557                      CJNE   A,      N_MaxDis,  T1mS_3 
0255 7559FF          558                      MOV    CurDis, #0FFH
                     559     
0258 20B202          560     T1mS_3:  JB     KEY1,   T1mS_4             ;´¦Àí°´¼ü
025B 1548            561                      DEC    KEY1_COUNTER                       ;°´¼üÍ³¼Æ
025D 20B302          562     T1mS_4:  JB     KEY2,   T1mS_5
0260 1549            563              DEC    KEY2_COUNTER
                     564     
0262 D54717          565     T1mS_5:  DJNZ   KEY_COUNTER,  T1mS_END 
0265 754714          566                      MOV    KEY_COUNTER,  #NMAX_KEY   ;Í³¼Æ´ÎÊµ½£¬ÖØÖÃÍ³¼Æ´ÎÊ
                     567     
0268 E548            568              MOV   A,      KEY1_COUNTER        ;´¦ÀíKEY1
026A 75488C          569                      MOV   KEY1_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
026D 33              570                      RLC   A
026E 9210            571                      MOV   KEY1_C,  C                      ;µÃµ½°´¼ü KEY1 µ±Ç°µÄÍ³¼Æ×´Ì¬
0270 20100B          572                      JB    KEY1_C,  T1mS_6             ;´¦Àí°´¼ü KEY1 ¶ÔÓ¦µÄ²Ù×÷£¨¼ûÏàÓ¦Á÷³ÌÍ¼£
                             ©
0273 30180D          573                      JNB   KEY1_P,  T1mS_7  
0276 C218            574                      CLR   KEY1_P
0278 D220            575                      SETB  VKEY1                        ;°´¼üKEY1ÊÂ¼þ·¢Éú£¨ÏÂ½µÑØ£©
027A 8007            576              JMP   T1mS_7
027C 21A3            577     T1mS_END: JMP    MAINLOOP
027E 201802          578     T1mS_6:  JB    KEY1_P,  T1mS_7  
0281 D218            579                      SETB  KEY1_P
                     580     
0283 E549            581     T1mS_7:  MOV   A,      KEY2_COUNTER        ;´¦ÀíKEY2
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    10

0285 75498C          582                      MOV   KEY2_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
0288 33              583                      RLC   A
0289 9211            584                      MOV   KEY2_C,  C                      ;µÃµ½°´¼ü KEY2 µ±Ç°µÄÍ³¼Æ×´Ì¬
028B 201109          585                      JB    KEY2_C,  T1mS_8             ;´¦Àí°´¼ü KEY2 ¶ÔÓ¦µÄ²Ù×÷£¨¼ûÏàÓ¦Á÷³ÌÍ¼£
                             ©
028E 30190B          586                      JNB   KEY2_P,  T1mS_9  
0291 C219            587                      CLR   KEY2_P
0293 D221            588                      SETB  VKEY2                        ;°´¼üKEY2ÊÂ¼þ·¢Éú£¨ÏÂ½µÑØ£©
0295 8005            589              JMP   T1mS_9
0297 201902          590     T1mS_8:  JB    KEY2_P,  T1mS_9  
029A D219            591                      SETB  KEY2_P
                     592     
029C E54A            593     T1mS_9:  MOV   A,      KEY3_COUNTER        ;´¦ÀíKEY3
029E 754A8C          594                      MOV   KEY3_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
02A1 33              595                      RLC   A
02A2 9212            596                      MOV   KEY3_C,  C                      
02A4 201209          597                      JB    KEY3_C,  T1mS_A             
02A7 301A0B          598                      JNB   KEY3_P,  T1mS_B  
02AA C21A            599                      CLR   KEY3_P
02AC D222            600                      SETB  VKEY3                        
02AE 8005            601              JMP   T1mS_B
02B0 201A02          602     T1mS_A:  JB    KEY3_P,  T1mS_B  
02B3 D21A            603                      SETB  KEY3_P
                     604     
02B5 E54E            605     T1mS_B:  MOV   A,      KEYL_COUNTER        ;´¦ÀíKEYL
02B7 754E8C          606                      MOV   KEYL_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
02BA 33              607                      RLC   A
02BB 9216            608                      MOV   KEYL_C,  C                      
02BD 201609          609                      JB    KEYL_C,  T1mS_C             
02C0 301E0B          610                      JNB   KEYL_P,  T1mS_D  
02C3 C21E            611                      CLR   KEYL_P
02C5 D226            612                      SETB  VKEYL                        
02C7 8005            613              JMP   T1mS_D
02C9 201E02          614     T1mS_C:  JB    KEYL_P,  T1mS_D  
02CC D21E            615                      SETB  KEYL_P
                     616     
02CE E54C            617     T1mS_D:  MOV   A,      KEYD_COUNTER        ;´¦ÀíKEYD
02D0 754C8C          618                      MOV   KEYD_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
02D3 33              619                      RLC   A
02D4 9214            620                      MOV   KEYD_C,  C                      
02D6 201409          621                      JB    KEYD_C,  T1mS_E             
02D9 301C0B          622                      JNB   KEYD_P,  T1mS_F  
02DC C21C            623                      CLR   KEYD_P
02DE D224            624                      SETB  VKEYD                        
02E0 8005            625              JMP   T1mS_F
02E2 201C02          626     T1mS_E:  JB    KEYD_P,  T1mS_F  
02E5 D21C            627                      SETB  KEYD_P
                     628     
02E7 E54D            629     T1mS_F:  MOV   A,      KEYC_COUNTER        ;´¦ÀíKEYC
02E9 754D8C          630                      MOV   KEYC_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
02EC 33              631                      RLC   A
02ED 9215            632                      MOV   KEYC_C,  C                      
02EF 201509          633                      JB    KEYC_C,  T1mS_G             
02F2 301D0B          634                      JNB   KEYC_P,  T1mS_H  
02F5 C21D            635                      CLR   KEYC_P
02F7 D225            636                      SETB  VKEYC                        
02F9 8005            637              JMP   T1mS_H
02FB 201D02          638     T1mS_G:  JB    KEYC_P,  T1mS_H  
02FE D21D            639                      SETB  KEYC_P
                     640     
0300 E54E            641     T1mS_H:  MOV   A,      KEYL_COUNTER        ;´¦ÀíKEYL
0302 754E8C          642                      MOV   KEYL_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
0305 33              643                      RLC   A
0306 9216            644                      MOV   KEYL_C,  C                      
0308 201609          645                      JB    KEYL_C,  T1mS_I             
030B 301E0B          646                      JNB   KEYL_P,  T1mS_J  
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    11

030E C21E            647                      CLR   KEYL_P
0310 D226            648                      SETB  VKEYL                        
0312 8005            649              JMP   T1mS_J
0314 201E02          650     T1mS_I:  JB    KEYL_P,  T1mS_J  
0317 D21E            651                      SETB  KEYL_P
                     652     
0319 E54F            653     T1mS_J:  MOV   A,      KEYU_COUNTER        ;´¦ÀíKEYU
031B 754F8C          654                      MOV   KEYU_COUNTER,    #(80H+NMAX_KEY/3*2)        ;ÖØÖÃÏÂÒ»ÂÖÍ³¼Æ³õÖµ
031E 33              655                      RLC   A
031F 9217            656                      MOV   KEYU_C,  C                      
0321 201709          657                      JB    KEYU_C,  T1mS_K             
0324 301F0B          658                      JNB   KEYU_P,  T1mS_L  
0327 C21F            659                      CLR   KEYU_P
0329 D227            660                      SETB  VKEYU                        
032B 8005            661              JMP   T1mS_L
032D 201F02          662     T1mS_K:  JB    KEYU_P,  T1mS_L  
0330 D21F            663                      SETB  KEYU_P
                     664     
0332 21A3            665     T1mS_L:  JMP    MAINLOOP
                     666     
0334 5A5A5A5A        667     TAB_GROUP_Dis:   DB   G0_A1,G0_A2,G0_A3,G0_A4,G0_A5,G0_A6,G0_A7,G0_A8
0338 5A5A5A5B                
033C 5A5A5A5A        668                      DB   G1_A1,G1_A2,G1_A3,G1_A4,G1_A5,G1_A6,G1_A7,G1_A8
0340 5E5D5C5B                
0344 46464657        669                                  DB   G2_A1,G2_A2,G2_A3,G2_A4,G2_A5,G2_A6,G2_A7,G2_A8
0348 46464640                
                     670     
034C 3F              671     TAB_Decode:      DB   03FH                      ; 0
034D 06              672                  DB   06H                   ; 1
034E 5B              673                              DB   5BH                   ; 2
034F 4F              674                              DB   4FH                       ; 3
0350 66              675                              DB   66H                       ; 4
0351 6D              676                              DB   6DH                       ; 5
0352 7D              677                              DB   7DH                       ; 6
0353 07              678                              DB   07H                       ; 7
0354 7F              679                              DB   7FH                       ; 8 
0355 6F              680                              DB   6FH                       ; 9
0356 40              681                              DB   40H                       ; -
0357 00              682                              DB   00H           ; ²»ÏÔÊ¾
                     683     ;------------------------------
0358                 684     TASK_50mS:
0358 21A3            685             JMP   MAINLOOP
                     686     ;------------------------------
035A                 687     TASK_1S:
035A 0540            688             INC   SEC_1
035C E540            689                     MOV   A,        SEC_1
035E B40A0D          690                     CJNE  A,        #10,    T_1S_1
0361 754000          691                     MOV   SEC_1,    #0
0364 0541            692                     INC   SEC_10
0366 E541            693                     MOV   A,        SEC_10
0368 B40603          694                     CJNE  A,        #6,     T_1S_1
036B 754100          695                     MOV   SEC_10,   #0
036E 21A3            696     T_1S_1: JMP   MAINLOOP
                     697     ;------------------------------
0370                 698     TASK_1Min:
0370 0542            699             INC   MIN_1
0372 E542            700                     MOV   A,        MIN_1
0374 B40A0D          701                     CJNE  A,        #10,    T_1M_1
0377 754200          702                     MOV   MIN_1,    #0
037A 0543            703                     INC   MIN_10
037C E543            704                     MOV   A,        MIN_10
037E B40603          705                     CJNE  A,        #6,     T_1M_1
0381 754300          706                     MOV   MIN_10,   #0
0384 21A3            707      T_1M_1:JMP   MAINLOOP
                     708     ;------------------------------
0386                 709     TASK_1HOUR:
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    12

0386 0544            710             INC   HOUR_1
0388 E544            711                     MOV   A,        HOUR_1
038A B40A0D          712                     CJNE  A,        #10,    T_1H_1
038D 754400          713                     MOV   HOUR_1,   #0
0390 0545            714                     INC   HOUR_10
0392 E545            715                     MOV   A,        HOUR_10
0394 B40203          716                     CJNE  A,        #2,     T_1H_1
0397 754500          717                     MOV   HOUR_10,  #0
039A 21A3            718      T_1H_1:JMP   MAINLOOP
                     719     ;--------------------------------------INT_T0--------------------------
039C D200            720     INT_T0: SETB   CLICK_50uS
039E D53025          721                 DJNZ   TIME_50uS,    EXIT_T0
03A1 753014          722             MOV    TIME_50uS,    #20
03A4 D201            723             SETB   CLICK_1mS 
03A6 D5311D          724                 DJNZ   TIME_1mS,     EXIT_T0
03A9 753132          725             MOV    TIME_1mS,     #50
03AC D202            726                 SETB   CLICK_50mS
03AE D53215          727                 DJNZ   TIME_50mS,    EXIT_T0
03B1 753214          728             MOV    TIME_50mS,    #20
03B4 D204            729                 SETB   CLICK_1S
03B6 D5340D          730                 DJNZ   TIME_1S,      EXIT_T0
03B9 75343C          731             MOV    TIME_1S,      #60
03BC D205            732                 SETB   CLICK_1Min 
03BE D53505          733                 DJNZ   TIME_1MIN,    EXIT_T0
03C1 75353C          734             MOV    TIME_1MIN,    #60
03C4 D206            735                 SETB   CLICK_1HOUR                    
03C6 32              736     EXIT_T0:RETI
                     737     
                     738             END           
                             
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    13

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
ADC_CONTR. . . . .  D ADDR   00BCH   A   
ADC_RES. . . . . .  D ADDR   00BDH   A   
ADC_RESL . . . . .  D ADDR   00BEH   A   
AUXR . . . . . . .  D ADDR   008EH   A   
AUXR1. . . . . . .  D ADDR   00A2H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BEEP . . . . . . .  B ADDR   00B0H.4 A   
BUS_SPEED. . . . .  D ADDR   00A1H   A   
CCAP0H . . . . . .  D ADDR   00FAH   A   
CCAP0L . . . . . .  D ADDR   00EAH   A   
CCAP1H . . . . . .  D ADDR   00FBH   A   
CCAP1L . . . . . .  D ADDR   00EBH   A   
CCAP2H . . . . . .  D ADDR   00FCH   A   
CCAP2L . . . . . .  D ADDR   00ECH   A   
CCAPM0 . . . . . .  D ADDR   00DAH   A   
CCAPM1 . . . . . .  D ADDR   00DBH   A   
CCAPM2 . . . . . .  D ADDR   00DCH   A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCON . . . . . . .  D ADDR   00D8H   A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CH . . . . . . . .  D ADDR   00F9H   A   
CL . . . . . . . .  D ADDR   00E9H   A   
CLICK_1HOUR. . . .  B ADDR   0020H.6 A   
CLICK_1MIN . . . .  B ADDR   0020H.5 A   
CLICK_1MS. . . . .  B ADDR   0020H.1 A   
CLICK_1S . . . . .  B ADDR   0020H.4 A   
CLICK_200MS. . . .  B ADDR   0020H.3 A   
CLICK_50MS . . . .  B ADDR   0020H.2 A   
CLICK_50US . . . .  B ADDR   0020H.0 A   
CLK_DIV. . . . . .  D ADDR   0097H   A   
CMOD . . . . . . .  D ADDR   00D9H   A   
COUNT1 . . . . . .  N NUMB   005BH   A   
COUNT2 . . . . . .  N NUMB   005CH   A   
COUNT3 . . . . . .  N NUMB   005DH   A   
COUNT4 . . . . . .  N NUMB   005EH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CURDIS . . . . . .  N NUMB   0059H   A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
C_1HOUR. . . . . .  C ADDR   01D9H   A   
C_1MIN . . . . . .  C ADDR   01D7H   A   
C_1MS. . . . . . .  C ADDR   01D1H   A   
C_1S . . . . . . .  C ADDR   01D5H   A   
C_50MS . . . . . .  C ADDR   01D3H   A   
C_50US . . . . . .  C ADDR   01CFH   A   
C_KEY1 . . . . . .  C ADDR   01DBH   A   
C_KEY2 . . . . . .  C ADDR   01DDH   A   
C_KEY3 . . . . . .  C ADDR   01DFH   A   
C_KEYC . . . . . .  C ADDR   01E5H   A   
C_KEYD . . . . . .  C ADDR   01E3H   A   
C_KEYL . . . . . .  C ADDR   01E7H   A   
C_KEYR . . . . . .  C ADDR   01E1H   A   
C_KEYU . . . . . .  C ADDR   01E9H   A   
DATA_TH0 . . . . .  N NUMB   00D2H   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    14

EADC . . . . . . .  B ADDR   00A8H.5 A   
ELVD . . . . . . .  B ADDR   00A8H.6 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXIT_T0. . . . . .  C ADDR   03C6H   A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
FOSC . . . . . . .  N NUMB   2B33H   A   
G0_A1. . . . . . .  N NUMB   005AH   A   
G0_A2. . . . . . .  N NUMB   005AH   A   
G0_A3. . . . . . .  N NUMB   005AH   A   
G0_A4. . . . . . .  N NUMB   005AH   A   
G0_A5. . . . . . .  N NUMB   005AH   A   
G0_A6. . . . . . .  N NUMB   005AH   A   
G0_A7. . . . . . .  N NUMB   005AH   A   
G0_A8. . . . . . .  N NUMB   005BH   A   
G1_A1. . . . . . .  N NUMB   005AH   A   
G1_A2. . . . . . .  N NUMB   005AH   A   
G1_A3. . . . . . .  N NUMB   005AH   A   
G1_A4. . . . . . .  N NUMB   005AH   A   
G1_A5. . . . . . .  N NUMB   005EH   A   
G1_A6. . . . . . .  N NUMB   005DH   A   
G1_A7. . . . . . .  N NUMB   005CH   A   
G1_A8. . . . . . .  N NUMB   005BH   A   
G2_A1. . . . . . .  N NUMB   0046H   A   
G2_A2. . . . . . .  N NUMB   0046H   A   
G2_A3. . . . . . .  N NUMB   0046H   A   
G2_A4. . . . . . .  N NUMB   0057H   A   
G2_A5. . . . . . .  N NUMB   0046H   A   
G2_A6. . . . . . .  N NUMB   0046H   A   
G2_A7. . . . . . .  N NUMB   0046H   A   
G2_A8. . . . . . .  N NUMB   0040H   A   
GROUP_DIS. . . . .  N NUMB   0057H   A   
HOUR_1 . . . . . .  N NUMB   0044H   A   
HOUR_10. . . . . .  N NUMB   0045H   A   
IAP_ADDRH. . . . .  D ADDR   00C3H   A   
IAP_ADDRL. . . . .  D ADDR   00C4H   A   
IAP_CMD. . . . . .  D ADDR   00C5H   A   
IAP_CONTR. . . . .  D ADDR   00C7H   A   
IAP_DATA . . . . .  D ADDR   00C2H   A   
IAP_TRIG . . . . .  D ADDR   00C6H   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
IE2. . . . . . . .  D ADDR   00AFH   A   
INT_CLKO . . . . .  D ADDR   008FH   A   
INT_T0 . . . . . .  C ADDR   039CH   A   
IP . . . . . . . .  D ADDR   00B8H   A   
IP2. . . . . . . .  D ADDR   00B5H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KEY1 . . . . . . .  B ADDR   00B0H.2 A   
KEY1_C . . . . . .  B ADDR   0022H.0 A   
KEY1_COUNTER . . .  N NUMB   0048H   A   
KEY1_P . . . . . .  B ADDR   0023H.0 A   
KEY2 . . . . . . .  B ADDR   00B0H.3 A   
KEY2_C . . . . . .  B ADDR   0022H.1 A   
KEY2_COUNTER . . .  N NUMB   0049H   A   
KEY2_P . . . . . .  B ADDR   0023H.1 A   
KEY3 . . . . . . .  B ADDR   0021H.2 A   
KEY3_C . . . . . .  B ADDR   0022H.2 A   
KEY3_COUNTER . . .  N NUMB   004AH   A   
KEY3_P . . . . . .  B ADDR   0023H.2 A   
KEYC . . . . . . .  B ADDR   0021H.5 A   
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    15

KEYC_C . . . . . .  B ADDR   0022H.5 A   
KEYC_COUNTER . . .  N NUMB   004DH   A   
KEYC_P . . . . . .  B ADDR   0023H.5 A   
KEYD . . . . . . .  B ADDR   0021H.4 A   
KEYD_C . . . . . .  B ADDR   0022H.4 A   
KEYD_COUNTER . . .  N NUMB   004CH   A   
KEYD_P . . . . . .  B ADDR   0023H.4 A   
KEYL . . . . . . .  B ADDR   0021H.6 A   
KEYL_C . . . . . .  B ADDR   0022H.6 A   
KEYL_COUNTER . . .  N NUMB   004EH   A   
KEYL_P . . . . . .  B ADDR   0023H.6 A   
KEYR . . . . . . .  B ADDR   0021H.3 A   
KEYR_C . . . . . .  B ADDR   0022H.3 A   
KEYR_COUNTER . . .  N NUMB   004BH   A   
KEYR_P . . . . . .  B ADDR   0023H.3 A   
KEYU . . . . . . .  B ADDR   0021H.7 A   
KEYU_C . . . . . .  B ADDR   0022H.7 A   
KEYU_COUNTER . . .  N NUMB   004FH   A   
KEYU_P . . . . . .  B ADDR   0023H.7 A   
KEY_COUNTER. . . .  N NUMB   0047H   A   
KEY_ON . . . . . .  B ADDR   0025H.0 A   
MAINLOOP . . . . .  C ADDR   01A3H   A   
MID_LINE . . . . .  N NUMB   0046H   A   
MIN_1. . . . . . .  N NUMB   0042H   A   
MIN_10 . . . . . .  N NUMB   0043H   A   
NEW_COMMAND. . . .  C ADDR   01EBH   A   
NMAX_KEY . . . . .  N NUMB   0014H   A   
NO_DIS . . . . . .  N NUMB   005AH   A   
N_MAXDIS . . . . .  N NUMB   0058H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P00. . . . . . . .  B ADDR   0080H.0 A   
P01. . . . . . . .  B ADDR   0080H.1 A   
P02. . . . . . . .  B ADDR   0080H.2 A   
P03. . . . . . . .  B ADDR   0080H.3 A   
P04. . . . . . . .  B ADDR   0080H.4 A   
P05. . . . . . . .  B ADDR   0080H.5 A   
P06. . . . . . . .  B ADDR   0080H.6 A   
P07. . . . . . . .  B ADDR   0080H.7 A   
P0M0 . . . . . . .  D ADDR   0094H   A   
P0M1 . . . . . . .  D ADDR   0093H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P10. . . . . . . .  B ADDR   0090H.0 A   
P11. . . . . . . .  B ADDR   0090H.1 A   
P12. . . . . . . .  B ADDR   0090H.2 A   
P13. . . . . . . .  B ADDR   0090H.3 A   
P14. . . . . . . .  B ADDR   0090H.4 A   
P15. . . . . . . .  B ADDR   0090H.5 A   
P16. . . . . . . .  B ADDR   0090H.6 A   
P17. . . . . . . .  B ADDR   0090H.7 A   
P1ASF. . . . . . .  D ADDR   009DH   A   
P1M0 . . . . . . .  D ADDR   0092H   A   
P1M1 . . . . . . .  D ADDR   0091H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P20. . . . . . . .  B ADDR   00A0H.0 A   
P21. . . . . . . .  B ADDR   00A0H.1 A   
P22. . . . . . . .  B ADDR   00A0H.2 A   
P23. . . . . . . .  B ADDR   00A0H.3 A   
P24. . . . . . . .  B ADDR   00A0H.4 A   
P25. . . . . . . .  B ADDR   00A0H.5 A   
P26. . . . . . . .  B ADDR   00A0H.6 A   
P27. . . . . . . .  B ADDR   00A0H.7 A   
P2M0 . . . . . . .  D ADDR   0096H   A   
P2M1 . . . . . . .  D ADDR   0095H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    16

P30. . . . . . . .  B ADDR   00B0H.0 A   
P31. . . . . . . .  B ADDR   00B0H.1 A   
P32. . . . . . . .  B ADDR   00B0H.2 A   
P33. . . . . . . .  B ADDR   00B0H.3 A   
P34. . . . . . . .  B ADDR   00B0H.4 A   
P35. . . . . . . .  B ADDR   00B0H.5 A   
P36. . . . . . . .  B ADDR   00B0H.6 A   
P37. . . . . . . .  B ADDR   00B0H.7 A   
P3M0 . . . . . . .  D ADDR   00B2H   A   
P3M1 . . . . . . .  D ADDR   00B1H   A   
P4 . . . . . . . .  D ADDR   00C0H   A   
P40. . . . . . . .  B ADDR   00C0H.0 A   
P41. . . . . . . .  B ADDR   00C0H.1 A   
P42. . . . . . . .  B ADDR   00C0H.2 A   
P43. . . . . . . .  B ADDR   00C0H.3 A   
P44. . . . . . . .  B ADDR   00C0H.4 A   
P45. . . . . . . .  B ADDR   00C0H.5 A   
P46. . . . . . . .  B ADDR   00C0H.6 A   
P47. . . . . . . .  B ADDR   00C0H.7 A   
P4M0 . . . . . . .  D ADDR   00B4H   A   
P4M1 . . . . . . .  D ADDR   00B3H   A   
P5 . . . . . . . .  D ADDR   00C8H   A   
P50. . . . . . . .  B ADDR   00C8H.0 A   
P51. . . . . . . .  B ADDR   00C8H.1 A   
P52. . . . . . . .  B ADDR   00C8H.2 A   
P53. . . . . . . .  B ADDR   00C8H.3 A   
P54. . . . . . . .  B ADDR   00C8H.4 A   
P55. . . . . . . .  B ADDR   00C8H.5 A   
P56. . . . . . . .  B ADDR   00C8H.6 A   
P57. . . . . . . .  B ADDR   00C8H.7 A   
P5M0 . . . . . . .  D ADDR   00CAH   A   
P5M1 . . . . . . .  D ADDR   00C9H   A   
P6 . . . . . . . .  D ADDR   00E8H   A   
P60. . . . . . . .  B ADDR   00E8H.0 A   
P61. . . . . . . .  B ADDR   00E8H.1 A   
P62. . . . . . . .  B ADDR   00E8H.2 A   
P63. . . . . . . .  B ADDR   00E8H.3 A   
P64. . . . . . . .  B ADDR   00E8H.4 A   
P65. . . . . . . .  B ADDR   00E8H.5 A   
P66. . . . . . . .  B ADDR   00E8H.6 A   
P67. . . . . . . .  B ADDR   00E8H.7 A   
P6M0 . . . . . . .  D ADDR   00CCH   A   
P6M1 . . . . . . .  D ADDR   00CBH   A   
P7 . . . . . . . .  D ADDR   00F8H   A   
P70. . . . . . . .  B ADDR   00F8H.0 A   
P71. . . . . . . .  B ADDR   00F8H.1 A   
P72. . . . . . . .  B ADDR   00F8H.2 A   
P73. . . . . . . .  B ADDR   00F8H.3 A   
P74. . . . . . . .  B ADDR   00F8H.4 A   
P75. . . . . . . .  B ADDR   00F8H.5 A   
P76. . . . . . . .  B ADDR   00F8H.6 A   
P77. . . . . . . .  B ADDR   00F8H.7 A   
P7M0 . . . . . . .  D ADDR   00E2H   A   
P7M1 . . . . . . .  D ADDR   00E1H   A   
PADC . . . . . . .  B ADDR   00B8H.5 A   
PCA_PWM0 . . . . .  D ADDR   00F2H   A   
PCA_PWM1 . . . . .  D ADDR   00F3H   A   
PCA_PWM2 . . . . .  D ADDR   00F4H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PLVD . . . . . . .  B ADDR   00B8H.6 A   
PPCA . . . . . . .  B ADDR   00B8H.7 A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    17

PX1. . . . . . . .  B ADDR   00B8H.2 A   
P_SW1. . . . . . .  D ADDR   00A2H   A   
P_SW2. . . . . . .  D ADDR   00BAH   A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
S2BUF. . . . . . .  D ADDR   009BH   A   
S2CON. . . . . . .  D ADDR   009AH   A   
S3BUF. . . . . . .  D ADDR   00ADH   A   
S3CON. . . . . . .  D ADDR   00ACH   A   
S4BUF. . . . . . .  D ADDR   0085H   A   
S4CON. . . . . . .  D ADDR   0084H   A   
SADDR. . . . . . .  D ADDR   00A9H   A   
SADEN. . . . . . .  D ADDR   00B9H   A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SEC_1. . . . . . .  N NUMB   0040H   A   
SEC_10 . . . . . .  N NUMB   0041H   A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . .  D ADDR   0081H   A   
SPCTL. . . . . . .  D ADDR   00CEH   A   
SPDAT. . . . . . .  D ADDR   00CFH   A   
SPSTAT . . . . . .  D ADDR   00CDH   A   
START. . . . . . .  C ADDR   0100H   A   
T1MS_0 . . . . . .  C ADDR   022AH   A   
T1MS_1 . . . . . .  C ADDR   0234H   A   
T1MS_2 . . . . . .  C ADDR   024EH   A   
T1MS_3 . . . . . .  C ADDR   0258H   A   
T1MS_4 . . . . . .  C ADDR   025DH   A   
T1MS_5 . . . . . .  C ADDR   0262H   A   
T1MS_6 . . . . . .  C ADDR   027EH   A   
T1MS_7 . . . . . .  C ADDR   0283H   A   
T1MS_8 . . . . . .  C ADDR   0297H   A   
T1MS_9 . . . . . .  C ADDR   029CH   A   
T1MS_A . . . . . .  C ADDR   02B0H   A   
T1MS_B . . . . . .  C ADDR   02B5H   A   
T1MS_C . . . . . .  C ADDR   02C9H   A   
T1MS_D . . . . . .  C ADDR   02CEH   A   
T1MS_E . . . . . .  C ADDR   02E2H   A   
T1MS_END . . . . .  C ADDR   027CH   A   
T1MS_F . . . . . .  C ADDR   02E7H   A   
T1MS_G . . . . . .  C ADDR   02FBH   A   
T1MS_H . . . . . .  C ADDR   0300H   A   
T1MS_I . . . . . .  C ADDR   0314H   A   
T1MS_J . . . . . .  C ADDR   0319H   A   
T1MS_K . . . . . .  C ADDR   032DH   A   
T1MS_L . . . . . .  C ADDR   0332H   A   
T2H. . . . . . . .  D ADDR   00D6H   A   
T2L. . . . . . . .  D ADDR   00D7H   A   
T3H. . . . . . . .  D ADDR   00D4H   A   
T3L. . . . . . . .  D ADDR   00D5H   A   
T3T4M. . . . . . .  D ADDR   00D1H   A   
T4H. . . . . . . .  D ADDR   00D2H   A   
T4L. . . . . . . .  D ADDR   00D3H   A   
T4T3M. . . . . . .  D ADDR   00D1H   A   
T50US_1. . . . . .  C ADDR   0219H   A   
T50US_2. . . . . .  C ADDR   0210H   A   
TAB_DECODE . . . .  C ADDR   034CH   A   
TAB_GROUP_DIS. . .  C ADDR   0334H   A   
TASK_1HOUR . . . .  C ADDR   0386H   A   
TASK_1MIN. . . . .  C ADDR   0370H   A   
TASK_1MS . . . . .  C ADDR   021BH   A   
A51 MACRO ASSEMBLER  DEMO                                                                 08/17/2015 20:09:18 PAGE    18

TASK_1S. . . . . .  C ADDR   035AH   A   
TASK_50MS. . . . .  C ADDR   0358H   A   
TASK_50US. . . . .  C ADDR   0209H   A   
TASK_KEY1. . . . .  C ADDR   01EDH   A   
TASK_KEY2. . . . .  C ADDR   01F9H   A   
TASK_KEY3. . . . .  C ADDR   01FDH   A   
TASK_KEYC. . . . .  C ADDR   0203H   A   
TASK_KEYD. . . . .  C ADDR   0201H   A   
TASK_KEYL. . . . .  C ADDR   0205H   A   
TASK_KEYR. . . . .  C ADDR   01FFH   A   
TASK_KEYU. . . . .  C ADDR   0207H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLICK . . . . . .  N NUMB   0032H   A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIME_1HOUR . . . .  N NUMB   0036H   A   
TIME_1MIN. . . . .  N NUMB   0035H   A   
TIME_1MS . . . . .  N NUMB   0031H   A   
TIME_1S. . . . . .  N NUMB   0034H   A   
TIME_50MS. . . . .  N NUMB   0032H   A   
TIME_50US. . . . .  N NUMB   0030H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
T_1H_1 . . . . . .  C ADDR   039AH   A   
T_1M_1 . . . . . .  C ADDR   0384H   A   
T_1S_1 . . . . . .  C ADDR   036EH   A   
T_KEY1_5 . . . . .  C ADDR   01F7H   A   
VKEY1. . . . . . .  B ADDR   0024H.0 A   
VKEY2. . . . . . .  B ADDR   0024H.1 A   
VKEY3. . . . . . .  B ADDR   0024H.2 A   
VKEYC. . . . . . .  B ADDR   0024H.5 A   
VKEYD. . . . . . .  B ADDR   0024H.4 A   
VKEYL. . . . . . .  B ADDR   0024H.6 A   
VKEYR. . . . . . .  B ADDR   0024H.3 A   
VKEYU. . . . . . .  B ADDR   0024H.7 A   
WDT_CONTR. . . . .  D ADDR   00C1H   A   
WKTCH. . . . . . .  D ADDR   00ABH   A   
WKTCL. . . . . . .  D ADDR   00AAH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
